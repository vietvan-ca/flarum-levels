(()=>{var e={n:r=>{var o=r&&r.__esModule?()=>r.default:()=>r;return e.d(o,{a:o}),o},d:(r,o)=>{for(var t in o)e.o(o,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:o[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};(()=>{"use strict";const r=flarum.core.compat["forum/app"];var o=e.n(r);const t=flarum.core.compat["common/extend"],a=flarum.core.compat["forum/components/UserCard"];var n=e.n(a);const l=flarum.core.compat["forum/components/PostUser"];var s=e.n(l);const c=flarum.core.compat["common/Model"];var p=e.n(c);const i=flarum.core.compat["common/models/User"];var u=e.n(i);function v(e,r){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},v(e,r)}const f=flarum.core.compat["common/Component"];var d=e.n(f);const y=flarum.core.compat["common/helpers/icon"];var b=e.n(y),h=function(e){function r(){return e.apply(this,arguments)||this}var t,a;return a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,v(t,a),r.prototype.view=function(){var e=this.attrs.user.level();if(!e)return null;var r=e.color||"#0072ff";return m("div",{className:"UserLevelDisplay"},m("div",{className:"UserLevel-badge",style:{backgroundColor:r}},e.icon&&b()(e.icon),m("span",{className:"UserLevel-name"}," ",o().translator.trans("vietvan-ca-flarum-levels.forum.user.level_badge",{name:e.name}))))},r}(d());o().initializers.add("vietvan-ca-levels",(function(){u().prototype.xp=p().attribute("xp"),u().prototype.level=p().attribute("level"),u().prototype.isManualLevel=p().attribute("is_manual_level"),(0,t.extend)(n().prototype,"infoItems",(function(e){var r=this.attrs.user;r.level()&&e.add("level",m(h,{user:r}),10)})),(0,t.extend)(s().prototype,"view",(function(e){var r=this.attrs.post.user();if(r&&r.level()){var o=r.level(),t=m("span",{className:"PostUser-level",style:o.color?{backgroundColor:o.color}:{},title:o.description||""},o.icon&&m("span",{className:"PostUser-level-icon"},b()(o.icon)),m("span",{className:"PostUser-level-name"}," ",o.name));Array.isArray(e.children)&&(e.children.length>1?e.children.splice(2,0,t):e.children.push(t))}}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map